<template>
  <div>
    <TiptapTabBar :editor="editor" v-if="editor" />
    <TiptapEditorContent :editor="editor" class="h-full" />
  </div>
</template>

<script setup>
import Placeholder from '@tiptap/extension-placeholder'

const editor = useEditor({
  content: "<p>I'm running Tiptap with Vue.js. ðŸŽ‰</p>",
  extensions: [
    TiptapStarterKit.configure({
      heading: {
        levels: [1, 2]
      }
    }),
    Placeholder.configure({
      // Use a placeholder:
      placeholder: 'è¯·è¾“å…¥å†…å®¹...'
      // Use different placeholders depending on the node type:
      // placeholder: ({ node }) => {
      //   if (node.type.name === 'heading') {
      //     return 'Whatâ€™s the title?'
      //   }
      //   return 'Can you add some further context?'
      // },
    })
  ],
  autofocus: true
})

onBeforeUnmount(() => {
  unref(editor).destroy()
})
</script>
